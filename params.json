{"name":"Mdig","tagline":"MDiG - Modular Dispersal in GIS","body":"# mdig - Modular Dispersal in GIS\r\n\r\nmdig is simulation framework designed for people modelling dispersal processes.\r\nIn particular the focus in the past has been around modelling **invasive**\r\nspecies. For example, I have used it to [model the spread of Argentine ant in New\r\nZealand, and compare it to the actual invasion dynamics][1].\r\n\r\nIt has also been used to [model Buddleia daviddi][2] spread in New Zealand.\r\n\r\nmdig consists of two parts:\r\n\r\n* The simulation manager - reads a dispersal model (in XML) and works out\r\n  what to do. It is smart enough to:\r\n   * manage the running of many replications, which are important if your simulation\r\n     is stochastic;\r\n   * aggregate results;\r\n   * run analysis across the aggregate maps or the individual replicates;\r\n* The GRASS dispersal modules - these take an input distribution map, some\r\n  parameters, and output a new distribution map. See `grass-modules/README` for\r\n  more details.\r\n\r\n## Setup\r\n\r\n### Setup GRASS\r\n\r\nIdeally you'd just go:\r\n\r\n    sudo apt-get install grass grass-dev\r\n\r\nBut due to this bug: http://trac.osgeo.org/grass/ticket/800 the ubuntu release\r\nis broken. You'll need to build latest GRASS 6 development branch manually,\r\nuntil the fix for this bug propagates into Ubuntu. While there are full details\r\non the GRASS GIS website, if you use Ubuntu 12.04 you should be able to get\r\naway with:\r\n\r\n    # Get the source code for grass 6.4.3 (development)\r\n    sudo apt-get install subversion\r\n    svn checkout https://svn.osgeo.org/grass/grass/branches/develbranch_6 grass6_devel\r\n    cd grass6_devel/\r\n\r\n    # Get the dependencies\r\n    sudo apt-get install build-essential zlib1g-dev libreadline6-dev \\\r\n      flex bison libncurses5-dev proj libgdal-dev gdal-bin \\\r\n      tcl8.4-dev tk8.4-dev freeglut3-dev ffmpeg libpq-dev libavcodec-dev \\\r\n      libjpeg-dev libtiff-dev libpng12-dev postgresql libpq-dev libstdc++6 \\\r\n      libdap-dev libgeos-dev libmysqlclient-dev libspatialite-dev \\\r\n      libdapserver7 libgif-dev libsvn1 libjasper-dev gdal-bin uuid-dev \\\r\n      libxerces-c2-dev libhdf5-serial-dev libgdal-dev libdb4.8 \\\r\n      libproj-dev python-opengl unixodbc-dev fftw-dev lesstif2-dev libfreetype6-dev \\\r\n      sqlite3 libsqlite3-dev libavcodec-dev libavformat-dev make g++ swig libxmu-dev \\\r\n      python-dev libavutil-dev libavutil50 libswscale-dev libwxgtk2.8-dev libcairo-dev \\\r\n      python-wxversion\r\n\r\n    # Configure\r\n    CHOST=\"x86_64-pc-linux-gnu\" CFLAGS=\"-march=k8 -O2 -pipe -Wall\" \\\r\n    ./configure \\\r\n         --with-tcltk-includes=/usr/include/tcl8.4 \\\r\n         --with-motif --with-motif-includes=/usr/include/X11 \\\r\n         --with-readline --with-cxx --with-odbc --with-sqlite \\\r\n         --with-freetype --with-freetype-includes=/usr/include/freetype2 \\\r\n         --without-postgres --with-proj-share=/usr/share/proj \\\r\n         --with-ffmpeg \\\r\n         --with-ffmpeg-includes=\"/usr/include/libavcodec /usr/include/libavformat /usr/include/libavutil /usr/include/libswscale\" \\\r\n         --with-wxwidgets --with-cairo --with-geos \\\r\n         --with-python --with-postgres --with-postgres-includes=/usr/include/postgresql/ \\\r\n         --enable-64bit 2>&1 | tee config_log.txt\r\n\r\n    # Build and install\r\n    make -j4 \r\n    sudo make install\r\n\r\n### Setup mdig simulation manager\r\n\r\n    sudo apt-get install libxml2 libxml2-dev gsl-bin libgsl0-dev imagemagick bc python-tk\r\n\r\n    # Numpy and scipy are potentially finicky, so safest to install them separate\r\n    # and in order:\r\n    mkvirtualenv mdig\r\n    pip install numpy\r\n    pip install scipy\r\n    # Rest of python dependencies should be fine, ensure you are in mdig root dir\r\n    pip install -r requirements.txt\r\n\r\nThat's the core mdig simulation manager, but to install the custom GRASS\r\nmodules:\r\n\r\n    cd grass-modules\r\n    sudo make MODULE_TOPDIR=/usr/lib/grass64\r\n\r\nOr if you installed GRASS from source, you can do something like:\r\n\r\n    export GRASS_SRC=~/src/grass64_release\r\n    make -S MODULE_TOPDIR=$GRASS_SRC\r\n    cd $GRASS_SRC\r\n    make install\r\n\r\n## Troubleshooting\r\n\r\nOlder versions of requirements have some bugs to be aware of:\r\n\r\n* GRASS 6.4RC5 has an annoying g.region issue that can be confusing for new users.\r\n* GRASS 6.4.2 (default in Ubuntu 12.04) has a broken r.reclass that segfaults with\r\n  long map names.\r\n* GDAL &lt;1.6.0 or later, earlier versions can run into segfaults.\r\n\r\n## Testing\r\n\r\nIf you wish to run the unit tests for MDiG while developing code, then go to\r\nthe mdig program directory ('mdig/' from the root of the source) and run:\r\n\r\n    nosetests -v\r\n\r\nOr to run with code coverage analysis:\r\n\r\n    nosetests -v --with-coverage\r\n\r\nYou'll run a bunch of tests to check everything's working correctly.\r\n\r\nNote - currently only basic tests are run, more rigorous tests are needed\r\n(although this has been greatly improved over the last year):\r\n\r\n* Additional model files that more thoroughly test the potential model types.\r\n* More coverage in unit tests for components within MDiG.\r\n* Comparison of the output maps from various models versus what the expected map\r\n  should look like. For modules, create before and after maps and make sure they\r\n  have no difference,implement as a shell script to be run within GRASS.\r\n\r\n## Use\r\n\r\n* [Recreating the invasion history of Argentine ant in New Zealand][1].\r\n* [Buddleia daviddi spread in New Zealand][2].\r\n* [Melaleuca quinquenervia and Mimosa pellita in Puerto Rico][3].\r\n\r\n[1]: http://dx.doi.org/10.1890/08-1777.1       \"Predicting Argentine ant spread over the heterogeneous landscape using a spatially explicit stochastic model\"\r\n[2]: http://dx.doi.org/10.1016/j.ecolmodel.2011.03.023      \"Temporal limits to simulating the future spread pattern of invasive species: Buddleja davidii in Europe and New Zealand\"\r\n[3]: http://www.reeis.usda.gov/web/crisprojectpages/0222253-modeling-and-controlling-the-spread-of-invasive-species-over-heterogeneous-landscapes-melaleuca-quinquenervia-and-mimosa-pellita-in-puerto-rico.html \"MODELING AND CONTROLLING THE SPREAD OF INVASIVE SPECIES OVER HETEROGENEOUS LANDSCAPES: MELALEUCA QUINQUENERVIA AND MIMOSA PELLITA IN PUERTO RICO.\"\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}