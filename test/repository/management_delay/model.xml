<model>
    <user><email>joel@fruitionnz.com</email></user>
    <name> management_delay </name>
    <description> Test management strategies with delayed onset </description>
    
    <random>
        <initialSeed> 1 </initialSeed>
        <replicates> 2 </replicates>
        <offset>39</offset>
    </random>
    
    <regions>
        <region id="a">
            <resolution>1</resolution>
            <extents north="10" south="-10" west="-10" east="10"/>
        </region>
    </regions>
    
    <period>
        <startTime> 0 </startTime>
        <endTime> 5 </endTime>
    </period>
    
    <output>
        <raster>
            <interval>1</interval>
            <lifestage>all</lifestage>
        </raster>
    </output>
    
    <lifestages>
        <lifestage name="all" populationBased="false">
            <initialDistribution region="a">
                <sites>
                    <s x="1" y="0"/>
                    <s x="2" y="0"/>
                    <s x="3" y="0"/>
                    <s x="4" y="0"/>
                    <s x="5" y="0"/>
                    <s x="0" y="-5"/>
                </sites>
            </initialDistribution>
            
            <phenology region="a">
                <value> 1 </value>
            </phenology>
            
            <event name="r.mdig.neighbour">
                <param name="shape">
                    <variable id="shape">
                    <value>186</value> 
                    </variable>
                </param>
                <param name="radius">
                        <value>1</value>
                </param>
                <ifNotPopulationBased>
                    <flag name="b"/>
                </ifNotPopulationBased>
            </event>
            
        </lifestage>
        
    </lifestages>

    <management>
        <strategy name="delay" region="a">
            <description>Test to check delayed management</description>
            <delay>2</delay>
            <treatments>
            <t>
              <event ls="all" name="r.mdig.survival">
                <param name="survival"><value>0</value></param>
                <!-- Survival needs seed parameter, otherwise it inits from time
                     and just removes the same cells -->
                <param name="seed">
                    <seed/>
                </param>
              </event>
            </t>
            </treatments>
        </strategy>
    </management>
    
<instances baseDir="/home/joel/src/mdig/test/repository/management_delay"><completed><region id="a"/><variable id="shape">186</variable><replicates><replicate ts="1255325663.895751">
<seed>-1207824196</seed><lifestage id="all">
<maps><map time="0">management_delay_region_a_shape_186_rep_0_ls_all_0</map><map time="1">management_delay_region_a_shape_186_rep_0_ls_all_1</map><map time="2">management_delay_region_a_shape_186_rep_0_ls_all_2</map><map time="3">management_delay_region_a_shape_186_rep_0_ls_all_3</map><map time="4">management_delay_region_a_shape_186_rep_0_ls_all_4</map><map time="5">management_delay_region_a_shape_186_rep_0_ls_all_5</map></maps></lifestage></replicate><replicate ts="1255325665.7070291">
<seed>-902879557</seed><lifestage id="all">
<maps><map time="0">management_delay_region_a_shape_186_rep_1_ls_all_0</map><map time="1">management_delay_region_a_shape_186_rep_1_ls_all_1</map><map time="2">management_delay_region_a_shape_186_rep_1_ls_all_2</map><map time="3">management_delay_region_a_shape_186_rep_1_ls_all_3</map><map time="4">management_delay_region_a_shape_186_rep_1_ls_all_4</map><map time="5">management_delay_region_a_shape_186_rep_1_ls_all_5</map></maps></lifestage></replicate></replicates></completed><completed><region id="a"/><strategy name="delay"/><variable id="shape">186</variable><replicates><replicate ts="1255325667.954041">
<seed>1449883903</seed><lifestage id="all">
<maps><map time="0">management_delay_region_a_strategy_delay_shape_186_rep_0_ls_all_0</map><map time="1">management_delay_region_a_strategy_delay_shape_186_rep_0_ls_all_1</map><map time="2">management_delay_region_a_strategy_delay_shape_186_rep_0_ls_all_2</map><map time="3">management_delay_region_a_strategy_delay_shape_186_rep_0_ls_all_3</map><map time="4">management_delay_region_a_strategy_delay_shape_186_rep_0_ls_all_4</map><map time="5">management_delay_region_a_strategy_delay_shape_186_rep_0_ls_all_5</map></maps></lifestage></replicate><replicate ts="1255325670.3986521">
<seed>611148597</seed><lifestage id="all">
<maps><map time="0">management_delay_region_a_strategy_delay_shape_186_rep_1_ls_all_0</map><map time="1">management_delay_region_a_strategy_delay_shape_186_rep_1_ls_all_1</map><map time="2">management_delay_region_a_strategy_delay_shape_186_rep_1_ls_all_2</map><map time="3">management_delay_region_a_strategy_delay_shape_186_rep_1_ls_all_3</map><map time="4">management_delay_region_a_strategy_delay_shape_186_rep_1_ls_all_4</map><map time="5">management_delay_region_a_strategy_delay_shape_186_rep_1_ls_all_5</map></maps></lifestage></replicate></replicates></completed></instances></model>